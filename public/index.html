<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Drewie</title>
    <link href="icons/icons.css" rel="stylesheet" />
    <link href="css/styles.css" rel="stylesheet" />
  </head>
  <body>
    <template name="ui-button">
      <style>
        :host {
          font-size: var(--button-size);
          box-sizing: border-box;
          min-width: 1em;
          height: 1em;
          border-radius: 0.05em;
          margin: var(--margin);
          display: flex;
          justify-content: center;
          align-items: center;
          color: rgba(255, 255, 255, 0.7);
          background: rgba(255, 255, 255, 0.15);
        }
        :host(:not([icon])) {
          justify-content: flex-start;
        }
        :host(:hover, .active) {
          color: rgba(255, 255, 255, 1);
          background: rgba(255, 255, 255, 0.2);
        }
        ui-iconize {
          font-size: 0.6em;
        }
      </style>
      <div>
        <ui-iconize><slot></slot></ui-iconize>
      </div>
    </template>

    <template name="ui-iconize">
      <style>
        :host {
          --icon-rotate: 0deg;
          display: inline-flex;
          align-self: center;
          align-items: center;
        }
        #icon {
          transform: rotate(var(--icon-rotate));
          padding: 0.2em;
        }
        #icon:empty {
          display: none;
        }
        .feather {
          width: 1em;
          height: 1em;
          stroke: currentColor;
          stroke-width: 1.5;
        }
      </style>
      <div id="icon"></div>
      <slot></slot>
    </template>

    <template name="ui-center">
      <style>
        :host {
          display: flex;
          align-items: center;
          justify-content: center;
        }
      </style>
      <slot></slot>
    </template>

    <template name="ui-center">
      <style>
        :host {
          display: flex;
          align-items: center;
          justify-content: center;
        }
      </style>
      <slot></slot>
    </template>

    <template name="ui-scroll">
      <style>
        :host {
          display: block;
          height: 100%;
          position: relative;
        }
        #container {
          position: absolute;
          overflow: hidden;
          top: 0;
          right: 0;
          bottom: 0;
          left: 0;
        }
        :host([scroll-y]) #container {
          overflow-y: auto;
          scroll-snap-type: y mandatory;
        }
        ::slotted(*) {
          scroll-snap-align: start;
        }
      </style>
      <div id="container">
        <slot></slot>
      </div>
    </template>

    <template name="ui-view">
      <style>
        :host {
          display: none;
        }
        :host([active], .active) {
          display: grid;
          width: 100%;
          height: 100%;
          grid-template: 1fr / 1fr;
          grid-gap: var(--margin);
        }
        :host([v-split]) {
          grid-template-columns: 1fr min-content;
        }
        :host([v-split]) ::slotted(:nth-child(2)) {
          background: var(--background);
        }
      </style>
      <slot></slot>
    </template>

    <div id="drewie">
      <header><ui-iconize icon="hexagon" rotate="90deg">Drewie</ui-iconize></header>
      <nav>
        <ui-button set="view:control" icon="move"></ui-button>
        <ui-button set="view:preview" icon="edit"></ui-button>
        <ui-button set="view:file-list" icon="folder"></ui-button>
        <ui-button set="view:settings" icon="sliders"></ui-button>
        <ui-button set="view:stop" icon="x-octagon"></ui-button>
      </nav>
      <main>
        <ui-view name="file-list">
          <ui-scroll scroll-y>
            <ui-button>file1.svg</ui-button>
            <ui-button>long/longer/longest/file2.svg</ui-button>
            <ui-button>long/longer/longest/file2.svg</ui-button>
            <ui-button>long/longer/longest/file2.svg</ui-button>
            <ui-button>long/longer/longest/file2.svg</ui-button>
            <ui-button>long/longer/longest/file2.svg</ui-button>
            <ui-button>long/longer/longest/file2.svg</ui-button>
            <ui-button>long/longer/longest/file2.svg</ui-button>
            <ui-button>long/longer/longest/file2.svg</ui-button>
            <ui-button>long/longer/longest/file2.svg</ui-button>
            <ui-button>long/longer/longest/file2.svg</ui-button>
            <ui-button>long/longer/longest/file2.svg</ui-button>
          </ui-scroll>
        </ui-view>
        <ui-view name="control" v-split>
          <ui-center>
            <div style="display: grid; grid-template: 1fr 1fr / 1fr 2fr 1fr; grid-gap: var(--margin);">
              <ui-button cmd="step:0:1" icon="chevron-up"></ui-button>
              <ui-button cmd="step:1:1" icon="chevron-up"></ui-button>
              <ui-center style="grid-column: 2 / 3; grid-row: 1 / 3;">
                <ui-button cmd="home" icon="crosshair" style="transform: scale(1.25);"></ui-button>
              </ui-center>
              <ui-button cmd="step:0:0" icon="chevron-down"></ui-button>
              <ui-button cmd="step:1:0" icon="chevron-down"></ui-button>
            </div>
          </ui-center>
          <div style="display: flex; flex-direction: column; justify-content: space-evenly;">
            <ui-button set="steps:1">1</ui-button>
            <ui-button set="steps:10">10</ui-button>
            <ui-button set="steps:100">100</ui-button>
            <ui-button toggle="penUp">PEN</ui-button>
          </div>
        </ui-view>
        <!--
        <div data-state="view:file-list">file-list</div>
        <div data-state="view:control">
          <div class="center">
            <div class="layout">
              <button onclick="command('step', 0, 1)"><span class="icon-arrow-up"></span></button>
              <button onclick="command('step', 1, 1)"><span class="icon-arrow-up"></span></button>

              <div style="grid-column: 2 / 3; grid-row: 1 / 3;" class="center">
                <button onclick="command('home')"><span class="icon-home"></span></button>
              </div>
              <button onclick="command('step', 0, 0)"><span class="icon-arrow-down"></span></button>
              <button onclick="command('step', 1, 0)"><span class="icon-arrow-down"></span></button>


            </div>
          </div>
          <aside>
            <button data-state="steps:1"><span>1</span></button>
            <button data-state="steps:10"><span>10</span></button>
            <button data-state="steps:100"><span>100</span></button>

            <button id="button_pen" class="mt"><span style="font-size: 0.5em;">PEN</span></button>
          </aside>
        </div>
      -->
        <div data-state="view:preview">preview</div>
        <div data-state="view:settings">
          <div class="center" style="height: 100%;">
            <div class="layout">
              <div class="input">
                <label for="input-d">d</label>
                <input type="number" id="input-d" />
              </div>
              <div class="input">
                <label for="input-x">x</label>
                <input type="number" id="input-x" />
              </div>
              <div class="input">
                <label for="input-y">y</label>
                <input type="number" id="input-y" />
              </div>
              <div class="input">
                <label for="input-s">s</label>
                <input type="number" id="input-s" />
              </div>
            </div>
          </div>
          <aside>
            <div style="display: grid; grid-template-columns: repeat(3, 1fr);">
              <button><span>1</span></button>
              <button><span>2</span></button>
              <button><span>3</span></button>
              <button><span>4</span></button>
              <button><span>5</span></button>
              <button><span>6</span></button>
              <button><span>7</span></button>
              <button><span>8</span></button>
              <button><span>9</span></button>
              <button><span>0</span></button>
              <button>
                <span class="icon icon-arrow-left-circle"></span>
              </button>
              <button>
                <span class="icon icon-arrow-left-close"></span>
              </button>
            </div>
          </aside>
        </div>
        <div data-state="view:stop">stop</div>
      </main>

      <!--
      <div class="view">
        <main id="view_folder" class="">
          <div class="grid">
            Folder
          </div>
        </main>

        <main id="view_move" class="on">

        </main>

        <main id="view_progress" class="">
          <div class="">
            <canvas id="originCanvas" width="600" height="800"> </canvas>
            <canvas id="progressCanvas" width="600" height="800"> </canvas>
            <canvas id="positionCanvas" width="600" height="800"> </canvas>
          </div>
        </main>

        <main id="view_settings" class="">
          <div class="input" autofocus="autofocus">
            <label for="input-d">d</label>
            <input type="number" id="input-d" autofocus="autofocus" />
          </div>
          <div class="input">
            <label for="input-x">x</label>
            <input type="number" id="input-x" />
          </div>
          <div class="input">
            <label for="input-y">y</label>
            <input type="number" id="input-y" />
          </div>
          <div class="input">
            <label for="input-s">s</label>
            <input type="number" id="input-s" />
          </div>
        </main>


        
      </div>
    --></div>

    <div style="margin: 50px;">
      <a href="https://feathericons.com/" target="_blank">feather Icons</a>
      <a href="javascript:document.documentElement.requestFullscreen()">fullscreen</a>
    </div>

    <script src="./feather.min.js"></script>
    <script src="/hyperactiv/dist/index.js"></script>
    <!--
    <script src="/hyperactiv/websocket/browser.js"></script>
    -->
    <script src="js/scripts.js" type="module"></script>
  </body>
</html>
